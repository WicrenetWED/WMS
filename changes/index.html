<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>LMS &amp; WMS 接口开发文档</title>
    
<link rel="stylesheet" href="/wms/css/style.css">

    
<link rel="stylesheet" href="/wms/css/gitment.css">

    <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_859455_eaq7v6w8ktj.css">
<meta name="generator" content="Hexo 5.2.0"></head>
<body>
<header class="header">
    <div class="header-inner">
        <div class="header-title">

        </div>
        <nav class="header-nav">
            
            <a href="/wms/" class="header-nav-link" >
                首页
            </a>
            

            
            <a href="/wms/archives" class="header-nav-link">
                归档
            </a>
            

            
            <a href="/wms/tags" class="header-nav-link">
                标签
            </a>
            

            


            
            
            
                <a href="/wms/changes/" class="header-nav-link">
                    变更日志
                </a>
            
            
        </nav>
    </div>
</header>
<header class="mobile-header">
    <div class="mobile-nav">
        <div class="mobile-nav-icon">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="mobile-nav-title">
            <a href="/wms/" class="mobile-nav-title-link">LMS接口开发文档</a>
        </div>

    </div>
    <nav class="mobile-menu">
        <ul class="mobile-menu-list">
            <li class="mobile-menu-item">
                <i class="iconfont icon-home"></i>
                <a href="/wms/" class="mobile-nav-link">首页</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-archive"></i>
                <a href="/wms/archives" class="mobile-nav-link">归档</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-tag"></i>
                <a href="/wms/tags" class="mobile-nav-link">标签</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/wms/status/" class="mobile-nav-link">开发状态</a>
            </li>
            <li class="mobile-menu-item">
                <i class="iconfont icon-about"></i>
                <a href="/wms/issues/" class="mobile-nav-link">问题列表</a>
            </li>
        </ul>
    </nav>
</header>
<div class="main">
    <div class="content-inner">
        <div class="about">
    <h1 id="2020-12-10-变更日志"><a href="#2020-12-10-变更日志" class="headerlink" title="2020-12-10 变更日志"></a>2020-12-10 变更日志</h1><h3 id="1-MSDS-amp-QAC接口"><a href="#1-MSDS-amp-QAC接口" class="headerlink" title="1 MSDS &amp; QAC接口"></a>1 MSDS &amp; QAC接口</h3><p>1.1 SDS 变为 MSDS<br>1.2 Type类型从int 变为String，且取值为 MSDS，QAC， ALL（表示同时获得MSDS和QAC文件）<br>1.3 请求URL变更过为api/MSDSAndQACFileTransfer<br>1.4 请求方式为POST<br>1.5 变更请求示例</p>
<h3 id="2-Disable-SSL认证"><a href="#2-Disable-SSL认证" class="headerlink" title="2 Disable SSL认证"></a>2 Disable SSL认证</h3><p>变更https 至 http</p>
<h3 id="3-入库与出库订单下发"><a href="#3-入库与出库订单下发" class="headerlink" title="3 入库与出库订单下发"></a>3 入库与出库订单下发</h3><p>新增字段： LoadType  运单类型  String  </p>
<p>取值范围：采购订单 ， 销售订单（数量为负数的退单），转移单接收，转移单装运 </p>
<h1 id="2020-12-24-变更日志"><a href="#2020-12-24-变更日志" class="headerlink" title="2020-12-24 变更日志"></a>2020-12-24 变更日志</h1><h3 id="1-MSDS-amp-QAC-文件"><a href="#1-MSDS-amp-QAC-文件" class="headerlink" title="1 MSDS &amp; QAC 文件"></a>1 MSDS &amp; QAC 文件</h3><p>修改示例中文件名信息包含扩展名</p>
<p> “fileName”: “3428912-23099156-1.pdf”</p>
<h3 id="2-确认出仓"><a href="#2-确认出仓" class="headerlink" title="2 确认出仓"></a>2 确认出仓</h3><ul>
<li><p>出仓时间允许为<strong>空</strong>，以LMS接收过账时间为准， 如果提供时间请按示例格式：2020-12-05T14:45:44  </p>
<blockquote>
<p>时间格式为：yyyy-MM-ddTHH:mm:ss    </p>
</blockquote>
</li>
<li><p>托盘编号 和 出库地标编号允许为<strong>空</strong></p>
</li>
</ul>
<h3 id="3-收货完成"><a href="#3-收货完成" class="headerlink" title="3 收货完成"></a>3 收货完成</h3><p>ArrivedDatetime 到货时间 和 SignInDatetime 签收完成时间， 允许为<strong>空</strong>，以LMS接收过账时间为准</p>
<p>如果提供时间请按示例格式：2020-12-05T14:45:44  </p>
<blockquote>
<p>时间格式为：yyyy-MM-ddTHH:mm:ss    </p>
</blockquote>
<h1 id="2020-12-28-日志"><a href="#2020-12-28-日志" class="headerlink" title="2020-12-28 日志"></a>2020-12-28 日志</h1><h3 id="MSDS-amp-QAC-文件接口"><a href="#MSDS-amp-QAC-文件接口" class="headerlink" title="MSDS &amp; QAC 文件接口"></a>MSDS &amp; QAC 文件接口</h3><ol>
<li><p>由于文件的特殊性及其大小限制，因此新增LMS直接推送信息至WMS的方案，如果WMS这边计划采用这个方案，需要提供支持SOAP协议的接口地址，具体开发规范详见文档。</p>
</li>
<li><p>WMS在拉取文件时，需要验证本地版本是否最新，为了支持该功能，因此新增字段IsVersion来标记是否仅仅检查版本信息。</p>
<p>该字段目前有默认值false, 开发这边无需调整， 只是在检查版本时设置为true.</p>
</li>
</ol>
<h1 id="2020-12-29-日志"><a href="#2020-12-29-日志" class="headerlink" title="2020-12-29 日志"></a>2020-12-29 日志</h1><h3 id="反馈盘点结果"><a href="#反馈盘点结果" class="headerlink" title="反馈盘点结果"></a>反馈盘点结果</h3><p>移除托盘字段 因盘点请虚拟仓+SKU+批次的数量汇总即可， 无需提供托盘信息</p>
<h1 id="2021-01-08-日志"><a href="#2021-01-08-日志" class="headerlink" title="2021-01-08 日志"></a>2021-01-08 日志</h1><h2 id="4-收货完成"><a href="#4-收货完成" class="headerlink" title="4 收货完成"></a>4 收货完成</h2><p>新增异常场景描述</p>
<h2 id="4-8-异常收货处理策略"><a href="#4-8-异常收货处理策略" class="headerlink" title="4.8 异常收货处理策略"></a>4.8 异常收货处理策略</h2><ul>
<li><p><strong>缺件</strong> 现场收货少了一件或者多件货物</p>
<p>例如：订单数量100件，而实收99件，1件破损或者丢失无法入库。因要求回传时数量要与订单一致，缺少的1件处理方案如下： </p>
<ol>
<li>自编一个<strong>万能码</strong></li>
<li>状态设置为<strong>异常</strong> </li>
<li>原因设置为： <strong>缺件</strong>      原因一定要设置为 “缺件”</li>
</ol>
</li>
<li><p><strong>与下发的条码不一致</strong></p>
<ol>
<li><p>订单属于<strong>采购订单(始发仓为工厂、TB工厂、进口仓库)</strong></p>
<p>按<strong>实收条码</strong>上传， 状态设置为<strong>异常</strong>， 原因设置为：<strong>采购单收货与下发条码不一致 或者其他，不能为空。</strong></p>
</li>
<li><p>订单属于<strong>转仓单(始发仓为BP二程八大仓)</strong></p>
<p>这个场景比较复杂影响了LMS，始发仓WMS，收货仓WMS。</p>
<p>a. 发邮件至 <strong>LMS</strong> 和<strong>始发仓WMS</strong>的仓库人员</p>
<p>b. 按<strong>实收条码</strong>上传</p>
<p>c. 状态设置为<strong>异常</strong></p>
<p>d. 原因设置为：<strong>转移单接收与下发条码不一致 或者其他，不能为空。</strong></p>
<p><strong>线下操作：</strong></p>
<p>三方线下核实完成后，始发仓WMS和LMS同时替换正确的条码。</p>
</li>
</ol>
</li>
</ul>
<h2 id="5-发货通知-amp-入库通知"><a href="#5-发货通知-amp-入库通知" class="headerlink" title="5 发货通知 &amp; 入库通知"></a>5 发货通知 &amp; 入库通知</h2><h4 id="新增特殊场景阐述"><a href="#新增特殊场景阐述" class="headerlink" title="新增特殊场景阐述"></a>新增特殊场景阐述</h4><ul>
<li><p><strong>销售退单场景</strong>（入库通知下发）</p>
<p><strong>销售</strong>的<strong>退单</strong>，LMS下发的数量Qty为<strong>负数</strong>， 因此请 根据数量<strong>Qty</strong>字段是否为<strong>负数</strong>来判断该运单是否为退单</p>
</li>
<li><p><strong>取消整个运单场景</strong> </p>
<p><strong>取消整个运单</strong>时，这属于<strong>删除或者取消了整个运输计划</strong>情况，LMS下发的订运单的<strong>运单状态</strong>都为<strong>已取消</strong>。 建议以下发的运单状态<strong>LoadStatus</strong>字段来判断是否取消整个运单（发货、收货通知），或者只要WMS发现报文中任意一个订运单的运单状态为已取消，就可以认为整个运单已取消了。</p>
</li>
<li><p><strong>删除或增加运单中某个订单场景</strong></p>
<p>如果运单中新增或者删除了部分订单，这属于运输计划<strong>更正</strong>情况，LMS会重新推送整个运单，WMS收到后需要执行<strong>覆盖</strong>逻辑，以确保整个运单和LMS一致。</p>
</li>
<li><p><strong>删除或增加订运单中某个SKU的场景</strong></p>
<p>如果删除或增加订运单中某个SKU，这也属于运输计划<strong>更正</strong>情况，LMS会重新推送整个运单，WMS收到后需要执行<strong>覆盖</strong>逻辑，以确保整个运单和LMS一致。</p>
</li>
</ul>

</div>
    </div>
</div>
<footer class="footer-social">
    

    

    

    <div class="footer-copyright">
        <p class="time-line">
            &copy;
            
            
            2021
            &nbsp;<i class="iconfont icon-heart"></i>&nbsp;
            <a target="_blank" href="https://github.com/iJinxin">LMS</a>
        </p>
    </div>
</footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="/wms/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
    

</script>
</html>
